<script src="game-requirements/js/player_moves.js"></script>
<div class="container" ng-controller="player_moves">

	<div class="row">  	
		<table class="table table-striped table-condensed table-hover">
			<thead>
				<tr>
					<th class="name">Votes&nbsp;
						<span class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" title="Number of actions, for which you have expressed your vote. The more votes you express, the higher is your point score, e.g. if you expressed 3 votes you get 3 points."></span>
					</th>							
					<th class="name">Accomplishment Percentage&nbsp;
						<span class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" title="Percentage of expressed votes, independently from the actual number. when you expressed votes in all the available actions, you get +10 points."></span>
					</th>
					<th class="name">Position in voting&nbsp;
						<span class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" title="The participant, who at a certain time has expressed the highest number of votes, is in first position in voting, and get the higher amount of points. Then comes the second, third and so on."></span>
					</th>	
					<th class="name">Status&nbsp;
						<span class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" title="Gives extra bonus points when you finish all your actions. If you didn't even start voting, you loose points."></span>
					</th>
					<th class="name">Agreement Index&nbsp;
						<span class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" title="The more your votes are similar to those of the other participants, the higher is your agreement index. For example, you all the other participants say that requirement A is strongly preferred to B, and you think that B is strongly preferred to A, you get very low points."></span>
					</th>		
					<th class="name">Points&nbsp;
						<span class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" title="In the overall points you gained so far, including Votes points, Accomplishment Percentage points, Position in voting points, Status points and Agreement Index points."></span>
					</th>
					<th class="name">Position&nbsp;
						<span class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip" title="Tells you what is your position with respect to the other participants. If you have more points than all the others, then you are in first place."></span>
					</th>													
				</tr>
			</thead>
	
			<tbody>
				<tr>
					<td>
						{{game.movesDone}}					
					</td>													
					<td>
						{{ (Math.round(game.playerProgress * 1000) / 1000) }} %
					</td>
					<td>
						{{gamePlayerPoints.positionInVoting}}
					</td>	
					<td>
						<p ng-show="gameCompleted == true">Complete!</p>
						<p ng-show="gameCompleted == false">Not complete!</p>	
					</td>
					<td>
						{{agreementIndex}}
						<!--  {{gamePlayerPoints.agreementIndex}} -->
					</td>	
					<td>
						
					</td>
					<td rowspan="2">
						<div align="center">
							<img ng-show="gamePlayerPoints.virtualPosition == 1" src="/game-requirements/img/medal_gold.png" height="100" width="100"> 
							<img ng-show="gamePlayerPoints.virtualPosition == 2" src="/game-requirements/img/medal_silver.png" height="100" width="100"> 
							<img ng-show="gamePlayerPoints.virtualPosition == 3" src="/game-requirements/img/medal_bronze.png" height="100" width="100"> 
							
							<p ng-show="gamePlayerPoints.virtualPosition > 3">NOT IN TOP</p>
						</div>
					</td>		
				</tr>
				<tr>
					<td>
						<b>+{{movesPoints}}pt</b>
					</td>													
					<td>
						<b>+{{gameProgressPoints}}pt</b>
					</td>
					<td>
						<b>+{{positionInVotingPoints}}pt</b>
					</td>	
					<td>
						<b ng-show="gameStatusPoints != 0">{{gameStatusPoints}}pt</b>
						<b ng-show="gameStatusPoints == 0">Completed</b>
					</td>
					<td>
						<b>+{{gamePlayerPoints.agreementIndex}}pt</b>
					</td>
					<td>
						<div align="center">
							<h2><b>{{gamePlayerPoints.points}}</b></h2>
						</div>				
					</td>			
				</tr>
			</tbody>
		</table>
	</div>

	<div style="float: left; width: 50%;">	
		<h3>Filter by criteria: </h3>
		<select class="form-control" name="selectCriteria" id="selectCriteria" ng-model="selectedCriteria" ng-change="changeCriteria()">
			<option value="{{undefined}}"></option>
			<option ng-repeat="criteria in criterias" value="{{criteria.criteriaId}}">{{criteria.name}}</option>
		</select>
	</div>
	<div style="clear: both;"></div>

	<div id='jqxTabs'>
		<ul style="margin-left: 30px; visibility: hidden;" id="unorderedList">
			<li>Available actions</li>
			<li>Finished actions</li>
		</ul>
		<div>
			<jqx-grid id="openGrid" jqx-create="createWidgetOpen" jqx-settings="openSettings"></jqx-grid>
		</div>
		<div>
			<jqx-grid id="closedGrid" jqx-create="createWidgetClosed" jqx-settings="closedSettings"></jqx-grid>
		</div>
	</div>

</div>  